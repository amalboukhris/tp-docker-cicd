<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontend - TP Docker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <h1>TP Docker Avancé</h1>
    <p>Visualisation du Backend & de la Base de Données</p>
</header>

<div class="cards">

    <div class="card">
        <h2>Backend API</h2>
        <div id="api-response" class="response">Chargement...</div>
    </div>

    <div class="card">
        <h2>Base de Données</h2>
        <div id="db-response" class="response">Chargement...</div>
    </div>

</div>

<footer>
    <p>TP Docker • Frontend Statique • 2025</p>
</footer>

<script>
async function fetchData() {
    try {
        const apiResponse = await fetch("http://localhost:3000/api");
        if (!apiResponse.ok) throw new Error("API request failed");

        const apiData = await apiResponse.json();
        document.getElementById("api-response").innerText =
            JSON.stringify(apiData, null, 2);

        const dbResponse = await fetch("http://localhost:3000/db");
        if (!dbResponse.ok) throw new Error("Database request failed");

        const dbData = await dbResponse.json();
        document.getElementById("db-response").innerText =
            JSON.stringify(dbData, null, 2);

    } catch (error) {
        document.getElementById("api-response").innerText = `❌ ${error.message}`;
        document.getElementById("db-response").innerText = `❌ ${error.message}`;
    }
}

setTimeout(fetchData, 1000);
</script>

</body>
</html>


